import com.sun.net.httpserver.HttpExchange;
import com.sun.net.httpserver.HttpHandler;
import com.sun.net.httpserver.HttpServer;

import java.io.IOException;
import java.io.OutputStream;
import java.net.InetSocketAddress;
import java.util.HashMap;
import java.util.Map;
import java.util.concurrent.Executors;
import java.util.concurrent.ThreadPoolExecutor;

public class App {

    public static Map<Integer, Photo> photos = new HashMap<>();

    public static void main(String[] args) throws IOException {

        photos.put(0, new Photo(0, "Smith Hall", "data:image/png;base64,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"
        , "39.68030203710849690424", "-75.75386590882111192968", "Smith hall at UD"));

        HttpServer server = HttpServer.create(new InetSocketAddress(8080), 0);
        server.createContext("/", new RootHandler());
        server.createContext("/GET/", new GetHandler());
        server.createContext("/POST/", new PostHandler());

        ThreadPoolExecutor threadPoolExecutor = (ThreadPoolExecutor) Executors.newFixedThreadPool(10);
        server.setExecutor(threadPoolExecutor); // creates a default executor
        server.start();
    }
}

